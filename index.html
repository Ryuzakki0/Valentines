        <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Will You Be My Valentine?</title>

  <style>
    body {
      margin: 0;
      font-family: "Poppins", Arial, sans-serif;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      overflow: hidden;
      -webkit-tap-highlight-color: transparent;
      transition: background 0.6s ease;
    }

    /* üåô Night theme */
    body.night {
      background: linear-gradient(135deg, #1e1f3a, #3a1c71);
    }

    .container {
      text-align: center;
      background: rgba(255, 255, 255, 0.9);
      padding: 40px;
      border-radius: 24px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    }

    body.night .container {
      background: rgba(0, 0, 0, 0.6);
      color: white;
    }

    .gif {
      width: 200px;
      max-width: 70vw;
      margin-bottom: 20px;
      border-radius: 16px;
    }

    h1 {
      margin-bottom: 20px;
      font-size: clamp(1.5rem, 4vw, 2rem);
      color: #ff4d6d;
    }

    body.night h1 {
      color: #ff9ae6;
    }

    .buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
    }

    button {
      border: none;
      border-radius: 999px;
      padding: 14px 28px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      touch-action: manipulation;
    }

    #yesBtn { background: #ff4d6d; color: white; }
    #noBtn { background: #ddd; color: #333; position: relative; }

    .yay, .game, .finalPage {
      display: none;
      position: fixed;
      inset: 0;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      text-align: center;
      padding: 20px;
      color: white;
    }

    .yay { background: linear-gradient(135deg, #ff4d6d, #ff758f); }
    .game { background: linear-gradient(135deg, #ff758f, #ff4d6d); overflow: hidden; }
    .finalPage { background: linear-gradient(135deg, #ff9a9e, #ff4d6d); }

    #continueBtn {
      margin-top: 30px;
      background: white;
      color: #ff4d6d;
      font-weight: bold;
    }

    .heart {
      position: absolute;
      font-size: 28px;
      cursor: pointer;
      user-select: none;
      animation: float 4s ease-in-out infinite;
    }

    @keyframes float {
      0%,100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .messageBox {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      color: #ff4d6d;
      padding: 16px 24px;
      border-radius: 16px;
      font-weight: bold;
      display: none;
      max-width: 80vw;
    }

    body.night .messageBox {
      background: #111;
      color: #ff9ae6;
    }

    .coupon {
      background: white;
      color: #ff4d6d;
      padding: 24px;
      border-radius: 20px;
      margin-top: 20px;
      max-width: 320px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
      text-align: center;
    }

    .blurred {
      filter: blur(6px);
      user-select: none;
      pointer-events: none;
    }
  </style>
</head>

<body>

  <div class="container" id="questionBox">
    <img src="giphy.gif" class="gif" />
    <h1 id="titleText">Will you be my Valentine? üíñ</h1>
    <div class="buttons">
      <button id="yesBtn">Yes</button>
      <button id="noBtn">No</button>
    </div>
  </div>

  <div class="yay" id="yayPage">
    <h1>GOOD GIRL ü•∞</h1>
    <p>You get a million kisses and taquitos üòò</p>
    <button id="continueBtn">Find the easter egg!!</button>
  </div>

  <div class="game" id="game"></div>

  <div class="finalPage" id="finalPage">
    <h1>CONGRATS!!! ü•∞ü•∞</h1>
    <img src="cat.gif" class="gif" />

    <div class="coupon">
      <h2>üíù Valentine Coupon üíù</h2>
      <div id="couponContent" class="blurred">
        <p style="font-size:1.5rem;font-weight:bold;">FREE Date Night</p>
        <p>Dinner, cuddles, kisses, and FREE CART?!</p>
      </div>

      <button id="redeemBtn">Redeem Coupon</button>
      <p id="redeemedText" style="display:none;margin-top:12px;font-weight:bold;">
        Coupon Redeemed üíï
      </p>
    </div>
  </div>

  <div class="messageBox" id="messageBox"></div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <script>
    
const titleText = document.getElementById("titleText");
const messageBox = document.getElementById("messageBox");

/* COUNT VISITS */
let visits = Number(localStorage.getItem("visits") || 0);
visits++;
localStorage.setItem("visits", visits);

/* SHOW DIFFERENT MESSAGE BASED ON VISIT */
if (visits === 2) {
  setTimeout(() => {
    showMessage("You came back‚Ä¶ I missed you üòõ    ");
  }, 600);
} else if (visits === 3) {
  setTimeout(() => {
    showMessage("Okay jus marry me atpüíç");
  }, 600);
}


    /* üåô DAY/NIGHT DETECTION */
    function applyTimeTheme() {
      const hour = 23; // pretend it's 11pm


      
      
      if (hour >= 20 || hour < 6) {
        document.body.classList.add("night");

        titleText.textContent = "Thinking about me this late?ü§î ";

        setTimeout(() => {
          showMessage("You should be sleeping‚Ä¶ but I'm glad its me on your mindüòõ");
        }, 1000);
      }
    }

    applyTimeTheme();

    /* EXISTING CODE */
    const yesBtn = document.getElementById("yesBtn");
    const noBtn = document.getElementById("noBtn");
    const yayPage = document.getElementById("yayPage");
    const questionBox = document.getElementById("questionBox");
    const continueBtn = document.getElementById("continueBtn");
    const finalPage = document.getElementById("finalPage");
    const game = document.getElementById("game");
    const redeemBtn = document.getElementById("redeemBtn");
    const redeemedText = document.getElementById("redeemedText");
    const couponContent = document.getElementById("couponContent");

    let scale = 1;
    let noScale = 1;
    let noClicks = 0;

    const compliments = [
      "You're amazing ü•∞",
      "You're the prettiest girl ever",
      "Lets start over.",
      "I want you so bad",
      "You're literally perfect üòò",
      "love me already smh",
      "I love your smile",
      "I love everything about you",
      "STOP BEING SO DRY SOMETIMES.",
      "I want bells and stacy to be friends",
      "I'll take care or you I swear'",
      "Let ME treat you right ",
      "i'll buy you every flower you want istg'", 
      "Youre really good at kissing btw.. im obv better tho",
      "YOU know you want me",
      "STOP playing so hard to get sometimesüòÖ",
      "can i get unblocked on insta tyüòò",
      "i stalk your reposts btw",
      "STOP POSTING SO DAMN MUCH u making me envious smh",
      
      ];

    yesBtn.onclick = () => {
      questionBox.style.display = "none";
      yayPage.style.display = "flex";
    };

    noBtn.onclick = () => {
      noClicks++;

      scale += 0.8;
      yesBtn.style.transform = `scale(${scale})`;

      noScale = Math.max(noScale * 0.8, 0.15);
      noBtn.style.transform = `scale(${noScale})`;

      const texts = ["Are you sure?", "Really sure??", "Last chance üò¢", "Please...? üòÖ", "Okay fine... just press Yes ü´©"];

      if (noClicks <= texts.length) {
        noBtn.textContent = texts[noClicks - 1];
      }

      const btnWidth = noBtn.offsetWidth;
      const btnHeight = noBtn.offsetHeight;

      noBtn.style.position = "fixed";
      noBtn.style.left = Math.random() * (window.innerWidth - btnWidth) + "px";
      noBtn.style.top = Math.random() * (window.innerHeight - btnHeight) + "px";

      if (noClicks >= 5) {
        yesBtn.style.position = "fixed";
        yesBtn.style.inset = "0";
        yesBtn.style.width = "100vw";
        yesBtn.style.height = "100vh";
        yesBtn.style.fontSize = "3rem";
        noBtn.style.display = "none";
      }
    };

    continueBtn.onclick = () => {
      yayPage.style.display = "none";
      game.style.display = "flex";
      createHearts();
    };

    redeemBtn.onclick = () => {
      couponContent.classList.remove("blurred");
      redeemBtn.style.display = "none";
      redeemedText.style.display = "block";
      launchConfetti();
    };

    function createHearts() {
      game.innerHTML = "";
      const totalHearts = 80;
      const surpriseIndex = Math.floor(Math.random() * totalHearts);

      for (let i = 0; i < totalHearts; i++) {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.textContent = Math.random() > 0.5 ? "üíñ" : "üíò";

        heart.style.left = Math.random() * 90 + "vw";
        heart.style.top = Math.random() * 90 + "vh";

        heart.onclick = () => {
          if (i === surpriseIndex) {
            launchConfetti();
            setTimeout(() => {
              game.style.display = "none";
              finalPage.style.display = "flex";
            }, 900);
          } else {
            const randomText = compliments[Math.floor(Math.random() * compliments.length)];
            showMessage(randomText);
          }
        };

        game.appendChild(heart);
      }
    }

    function showMessage(text) {
      messageBox.textContent = text;
      messageBox.style.display = "block";
      setTimeout(() => messageBox.style.display = "none", 2000);
    }

    function launchConfetti() {
      const end = Date.now() + 1600;
      (function frame() {
        confetti({ particleCount: 6, angle: 60, spread: 55, origin: { x: 0 } });
        confetti({ particleCount: 6, angle: 120, spread: 55, origin: { x: 1 } });
        if (Date.now() < end) requestAnimationFrame(frame);
      })();
    }
  </script>
</body>
</html>
